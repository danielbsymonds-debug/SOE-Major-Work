{% extends "base.html" %}
{% block content %}

<div style="display: flex; align-items: center; margin-bottom: 1.5rem; gap: 1rem;">
  <a href="{{ url_for('employees_overview') }}" style="color: #0dccff; text-decoration: none; font-size: 1.1rem;">‚Üê</a>
  <h2 class="page-title" style="margin: 0;">Employee Details of {{ employee.name }}</h2>
</div>

<div class="table-wrapper" style="padding: 2rem;">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid #2d3f4d;">
    <h3 style="color: #e0e0e0; margin: 0;">Employee ID: {{ employee.id }}</h3>
    <button class="btn btn-secondary" style="padding: 0.5rem 1rem;">Flip to Resume</button>
  </div>

  <div style="display: grid; grid-template-columns: 300px 1fr; gap: 2rem; margin-bottom: 2rem;">
    
    <!-- Left Column - Basic Info -->
    <div>
      <div style="background: rgba(13, 204, 255, 0.1); border: 1px solid rgba(13, 204, 255, 0.3); border-radius: 50%; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem;">
        <div style="font-size: 2.5rem; color: #0dccff; font-weight: 600;">{{ employee.name[:1] }}</div>
      </div>
      
      <div style="background: #1a252f; border: 1px solid #2d3f4d; border-radius: 4px; padding: 1.5rem;">
        <div style="margin-bottom: 1.5rem;">
          <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Name</label>
          <div style="color: #e0e0e0; font-size: 0.95rem; margin-top: 0.5rem;">{{ employee.name }}</div>
        </div>

        <div style="margin-bottom: 1.5rem;">
          <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Age</label>
          <div style="color: #e0e0e0; font-size: 0.95rem; margin-top: 0.5rem;">{{ employee.age or '-' }}</div>
        </div>

        <div style="margin-bottom: 1.5rem;">
          <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Phone</label>
          <div style="color: #e0e0e0; font-size: 0.95rem; margin-top: 0.5rem;">-</div>
        </div>
      </div>
    </div>

    <!-- Right Column - Detailed Info -->
    <div>
      <div style="background: #1a252f; border: 1px solid #2d3f4d; border-radius: 4px; padding: 1.5rem;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
          
          <div>
            <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Experience (Years)</label>
            <div style="color: #e0e0e0; font-size: 0.95rem; margin-top: 0.5rem;">{{ employee.experience_years or '-' }}</div>
          </div>

          <div>
            <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Level of Training</label>
            <div style="color: #e0e0e0; font-size: 0.95rem; margin-top: 0.5rem;">{{ employee.level_of_training or '-' }}</div>
          </div>

          <div>
            <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Training Status</label>
            <div style="color: #e0e0e0; font-size: 0.95rem; margin-top: 0.5rem;">{{ employee.training_status or 'Not Trained' }}</div>
          </div>

          <div>
            <label style="color: #b0bcc4; font-size: 0.85rem; text-transform: uppercase;">Status</label>
            <div style="margin-top: 0.5rem;">
              <span class="status-badge">Active</span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Action Buttons -->
  {% if current_user.is_admin %}
  <div style="display: flex; gap: 1rem; padding-top: 1.5rem; border-top: 1px solid #2d3f4d;">
    <button class="btn btn-secondary" style="flex: 1;">Edit Employee</button>
    <button type="button" class="btn btn-secondary" style="flex: 1; color: #ff6b6b; border-color: #ff6b6b;" onclick="confirmDelete()">Delete Employee</button>
  </div>

  <form id="deleteForm" method="post" action="{{ url_for('delete_employee', employee_id=employee.id) }}" style="display: none;"></form>

  <script>
    function confirmDelete() {
      if (confirm('Are you sure you want to delete this employee? This action cannot be undone.')) {
        document.getElementById('deleteForm').submit();
      }
    }
  </script>
  {% endif %}
</div>

{% endblock %}
